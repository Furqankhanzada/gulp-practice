"use strict";function handleError(r,n){return r.send(500,n)}var _=require("lodash"),Category=require("./category.model");exports.index=function(r,n){Category.find(function(r,e){return r?handleError(n,r):n.json(200,e)})},exports.show=function(r,n){Category.findById(r.params.id,function(r,e){return r?handleError(n,r):e?n.json(e):n.send(404)})},exports.create=function(r,n){Category.create(r.body,function(r,e){return r?handleError(n,r):n.json(201,e)})},exports.update=function(r,n){r.body._id&&delete r.body._id,Category.findById(r.params.id,function(e,o){if(e)return handleError(n,e);if(!o)return n.send(404);var t=_.merge(o,r.body);t.save(function(r){return r?handleError(n,r):n.json(200,o)})})},exports.destroy=function(r,n){Category.findById(r.params.id,function(r,e){return r?handleError(n,r):e?void e.remove(function(r){return r?handleError(n,r):n.send(204)}):n.send(404)})};