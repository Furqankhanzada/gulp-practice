"use strict";var express=require("express"),passport=require("passport"),auth=require("../auth.service"),router=express.Router();router.post("/",function(e,r,t){passport.authenticate("local",function(e,t,s){var o=e||s;if(o)return r.json(401,o);if(!t)return r.json(404,{message:"Something went wrong, please try again."});var n=auth.signToken(t._id,t.role);r.json({token:n})})(e,r,t)}),module.exports=router;