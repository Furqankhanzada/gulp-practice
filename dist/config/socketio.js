"use strict";function onDisconnect(n){}function onConnect(n){n.on("info",function(e){console.info("[%s] %s",n.address,JSON.stringify(e,null,2))}),require("../api/comment/comment.socket").register(n),require("../api/category/category.socket").register(n),require("../api/post/post.socket").register(n)}var config=require("./environment");module.exports=function(n){n.on("connection",function(n){n.address=null!==n.handshake.address?n.handshake.address.address+":"+n.handshake.address.port:process.env.DOMAIN,n.connectedAt=new Date,n.on("disconnect",function(){onDisconnect(n),console.info("[%s] DISCONNECTED",n.address)}),onConnect(n),console.info("[%s] CONNECTED",n.address)})};